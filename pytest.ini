[pytest]
# Django config
DJANGO_SETTINGS_MODULE = app.settings

# Environment variables for tests (requires pytest-env plugin)
env =
    DJANGO_ENV=development
    DEBUG=1

# What files to treat as tests (prefer *_pytest.py for proper fixtures)
python_files = test_*_pytest.py test_*.py tests.py

# Where to look for tests
testpaths = backend

# Exclude standalone diagnostic scripts from pytest discovery
# These are meant to be run manually: python backend/tests/script_name.py
addopts =
    -q
    --ignore=tests/test_duplicate_org_name.py
    --ignore=tests/test_tenant_name_uniqueness.py
    --ignore=tests/test_duplicate_org_name_debug.py
    --timeout=300
    --timeout-method=thread
